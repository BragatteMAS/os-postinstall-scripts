---
milestone: v4.1
audited: 2026-02-22
status: passed
scores:
  requirements: 21/21
  phases: 4/4
  integration: 9/9
  flows: 9/9
resolution: "All 5 documentation gaps fixed in same session"
gaps:
  requirements: []
  integration:
    - "git clone without --recurse-submodules: bats tests fail (No such file or directory)"
    - "CONTRIBUTING.md Running Tests section documents obsolete scripts, not 120-test bats suite"
    - "Pester test prerequisites (pwsh + Pester v5) undocumented"
  flows:
    - "SECURITY.md vs README contradiction on vulnerability reporting (private advisory vs GitHub Issue)"
    - "README version badge 3.3.0 vs actual v4.0.0 tag"
tech_debt:
  - phase: 16-exit-codes-security
    items:
      - "DATA_DIR fallback path bug in linux/main.sh and macos/main.sh (dead code, unreachable)"
  - phase: 18-polish-oss-health
    items:
      - "README prose says 'Seven ADRs' but there are 9"
      - "CONTRIBUTING.md says '7 ADRs' but there are 9"
      - "CHANGELOG has no v4.x entries"
---

# Milestone v4.1 Production Ready — Audit Report

**Audited:** 2026-02-22
**Status:** GAPS FOUND
**User concern:** "funcionar local para a pessoa que fizer fork"

## Requirements Coverage

All 21 requirements satisfied. No requirement gaps.

| Category | Requirements | Status |
|----------|-------------|--------|
| Data & Compatibility | DATA-01..03, COMPAT-01, QUAL-01..02 | 6/6 SATISFIED |
| Exit Codes & Security | EXIT-01..02, SEC-01..02 | 4/4 SATISFIED |
| Test Expansion - Bash | TEST-03..09 | 7/7 SATISFIED |
| Polish & OSS Health | TEST-10, OSS-01..03 | 4/4 SATISFIED |

## Phase Verifications

| Phase | Status | Score |
|-------|--------|-------|
| 15: Data & Compatibility Fixes | PASSED | 6/6 |
| 16: Exit Codes & Security | PASSED | 7/7 |
| 17: Test Expansion - Bash | PASSED | 8/8 |
| 18: Polish & OSS Health | PASSED (human items resolved) | 10/10 |

## Critical Gaps (Blocker for Forkers)

### Gap 1: Submodule Initialization Not Documented

**Impact:** HIGH — bats tests completely fail after fresh fork/clone
**Flow:** `git clone` → `./tests/lib/bats-core/bin/bats tests/*.bats` → `No such file or directory`
**Root cause:** README and CONTRIBUTING use plain `git clone` without `--recurse-submodules`
**Fix:** Update clone instructions OR add `git submodule update --init --recursive` to test docs

### Gap 2: CONTRIBUTING.md Running Tests Section Obsolete

**Impact:** MEDIUM — contributors never discover the 120-test bats suite
**Current:** Documents `bash tests/test-dotfiles.sh` and `bash tests/test-linux.sh`
**Correct:** `./tests/lib/bats-core/bin/bats tests/*.bats` (120 tests) + `pwsh -c "Invoke-Pester tests/pester/*.Tests.ps1"` (22 tests)

### Gap 3: Pester Prerequisites Undocumented

**Impact:** MEDIUM — Windows forker can't run Pester tests without knowing to install Pester v5
**Fix:** Add to test docs: `Install-Module Pester -MinimumVersion 5.0 -Force`

### Gap 4: Vulnerability Reporting Contradiction

**Impact:** LOW-MEDIUM — confusing for security reporters
**SECURITY.md:** "Use GitHub's private vulnerability reporting"
**README.md:** "open a GitHub Issue with the security label"
**Fix:** README should reference SECURITY.md for vulnerability reporting

### Gap 5: Version Badge Stale

**Impact:** LOW — cosmetic but misleading for forkers
**README badge:** `Version-3.3.0`
**Actual tag:** `v4.0.0`

## Tech Debt (Non-blocking)

| Phase | Item | Severity |
|-------|------|----------|
| 16 | DATA_DIR fallback path bug in main.sh (dead code) | Negligible |
| 18 | README/CONTRIBUTING say "7 ADRs", actually 9 | Low |
| 18 | CHANGELOG has no v4.x entries | Low |

## E2E Flow Status

| # | Flow | Status |
|---|------|--------|
| 1 | Fresh clone → bats tests | BROKEN (submodule gap) |
| 2 | Fresh clone → Pester tests | UNDOCUMENTED prerequisites |
| 3 | Fresh clone → dry run | COMPLETE |
| 4 | Fresh clone → help | COMPLETE |
| 5 | Exit code propagation | COMPLETE |
| 6 | safe_curl_sh wiring | COMPLETE (5/5 sites) |
| 7 | Contract parity | COMPLETE (16 functions) |
| 8 | SECURITY.md discoverability | COMPLETE (with README contradiction) |
| 9 | License (Apache 2.0) | COMPLETE |

## Recommendation

Fix gaps 1-5 before completing milestone. All are documentation fixes — no code changes needed. Estimated effort: 1 plan, ~15 minutes.

---
_Audited: 2026-02-22_
_Auditor: Claude (gsd-integration-checker + orchestrator)_
