---
phase: 02-consolidation-data-migration
plan: 06
type: execute
wave: 1
depends_on: []
files_modified:
  - data/dotfiles/bash/bashrc.sh
  - data/dotfiles/bash/.bashrc_example
  - data/dotfiles/bash/vscode_list_extensions.txt
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "platforms/linux/bash/ directory no longer exists"
    - "platforms/linux/config/ directory no longer exists"
    - "platforms/linux/distros/ directory no longer exists"
    - "platforms/linux/verify/ directory no longer exists"
    - "platforms/linux/post_install_new.sh file no longer exists"
    - "Dotfiles content preserved in data/dotfiles/bash/"
  artifacts:
    - path: "data/dotfiles/bash/bashrc.sh"
      provides: "Bash configuration template"
    - path: "data/dotfiles/bash/.bashrc_example"
      provides: "Bashrc example file"
  key_links: []
---

<objective>
Remove remaining legacy directories from platforms/linux/ that were not addressed in 02-05

Purpose: Close Gap 1 from VERIFICATION.md - platforms/linux/ still contains bash/, config/, distros/, verify/, post_install_new.sh
Output: Clean platforms/linux/ with only install/ remaining (deferred to Phase 5)
</objective>

<execution_context>
@/Users/bragatte/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bragatte/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/02-consolidation-data-migration/02-VERIFICATION.md
@.planning/phases/02-consolidation-data-migration/02-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate platforms/linux/bash/ content to data/dotfiles/bash/</name>
  <files>
    data/dotfiles/bash/bashrc.sh
    data/dotfiles/bash/.bashrc_example
    data/dotfiles/bash/vscode_list_extensions.txt
  </files>
  <action>
1. Copy bashrc.sh from platforms/linux/bash/ to data/dotfiles/bash/
2. Copy .bashrc_example from platforms/linux/bash/ to data/dotfiles/bash/
3. Copy vscode_list_extensions.txt from platforms/linux/bash/ to data/dotfiles/bash/
4. Remove the .gitkeep placeholder from data/dotfiles/bash/
5. Delete platforms/linux/bash/ directory entirely

Use `git mv` where possible to preserve history, or `cp` + `rm -rf` if git mv fails.

Note: data/dotfiles/bash/ currently only has .gitkeep placeholder. The real content is in platforms/linux/bash/.
  </action>
  <verify>
    - `ls data/dotfiles/bash/` shows bashrc.sh, .bashrc_example, vscode_list_extensions.txt
    - `ls platforms/linux/bash/` returns "No such file or directory"
  </verify>
  <done>Bash dotfiles content migrated to data/dotfiles/bash/ and old location removed</done>
</task>

<task type="auto">
  <name>Task 2: Remove empty legacy directories and stub files</name>
  <files>
    platforms/linux/config/
    platforms/linux/distros/
    platforms/linux/verify/
    platforms/linux/post_install_new.sh
  </files>
  <action>
1. Verify platforms/linux/config/ is empty, then remove: `rm -rf platforms/linux/config/`
2. Verify platforms/linux/distros/ subdirectories are all empty (Mint/, POP-OS/, Ubuntu/), then remove: `rm -rf platforms/linux/distros/`
3. Remove platforms/linux/verify/ (contains check-installation.sh which is legacy): `rm -rf platforms/linux/verify/`
4. Remove platforms/linux/post_install_new.sh (stub file, 249 bytes): `rm platforms/linux/post_install_new.sh`

Before each deletion, verify with `rg` that no file references the path being deleted.
  </action>
  <verify>
    - `ls platforms/linux/` shows only `install/` directory
    - `rg "platforms/linux/config" .` returns no matches
    - `rg "platforms/linux/distros" .` returns no matches
    - `rg "platforms/linux/verify" .` returns no matches
  </verify>
  <done>All empty/legacy directories removed; platforms/linux/ contains only install/ (deferred to Phase 5)</done>
</task>

</tasks>

<verification>
After both tasks:
1. `ls platforms/linux/` shows only: install/
2. `ls data/dotfiles/bash/` shows: bashrc.sh, .bashrc_example, vscode_list_extensions.txt
3. No dangling references: `rg "platforms/linux/(bash|config|distros|verify|post_install_new)" .` returns empty
</verification>

<success_criteria>
- platforms/linux/ contains ONLY install/ (Phase 5 work)
- data/dotfiles/bash/ contains the migrated bash configuration files
- No broken references in codebase
- Gap 1 (old platforms/ directory) fully closed
</success_criteria>

<output>
After completion, create `.planning/phases/02-consolidation-data-migration/02-06-SUMMARY.md`
</output>
