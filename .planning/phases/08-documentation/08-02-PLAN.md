---
phase: 08-documentation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [CONTRIBUTING.md, CODE_OF_CONDUCT.md, .github/ISSUE_TEMPLATE/bug_report.md, .github/ISSUE_TEMPLATE/feature_request.md, .github/pull_request_template.md]
autonomous: true

must_haves:
  truths:
    - "CONTRIBUTING.md is project-specific with dev setup, style guide, commit conventions, and ShellCheck requirement"
    - "CONTRIBUTING.md has no BMAD references, no Discord links, no expansion-pack content"
    - "CODE_OF_CONDUCT.md uses Contributor Covenant v2.1 with correct contact email"
    - "Bug report template includes profile and --dry-run reproduction fields"
    - "Feature request template reflects current platform support (Linux, macOS, Windows)"
    - "PR template requires ShellCheck passing as a checklist item"
  artifacts:
    - path: "CONTRIBUTING.md"
      provides: "Project-specific contribution guidelines"
      min_lines: 100
    - path: "CODE_OF_CONDUCT.md"
      provides: "Contributor Covenant v2.1"
      min_lines: 50
    - path: ".github/ISSUE_TEMPLATE/bug_report.md"
      provides: "Updated bug report template"
    - path: ".github/ISSUE_TEMPLATE/feature_request.md"
      provides: "Updated feature request template"
    - path: ".github/pull_request_template.md"
      provides: "Updated PR template with ShellCheck requirement"
  key_links:
    - from: "CONTRIBUTING.md"
      to: "CODE_OF_CONDUCT.md"
      via: "markdown link"
      pattern: "\\[.*\\]\\(CODE_OF_CONDUCT\\.md\\)"
    - from: "CONTRIBUTING.md"
      to: ".github/pull_request_template.md"
      via: "reference in PR section"
      pattern: "pull.request.template"
---

<objective>
Rewrite CONTRIBUTING.md from scratch (removing all BMAD boilerplate), create CODE_OF_CONDUCT.md (Contributor Covenant v2.1), and update GitHub issue/PR templates to match the current project reality.

Purpose: Provide clear, project-specific contribution guidelines and standard community health files.
Output: CONTRIBUTING.md, CODE_OF_CONDUCT.md, updated issue templates, updated PR template
</objective>

<execution_context>
@/Users/bragatte/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bragatte/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-documentation/08-CONTEXT.md
@.planning/phases/08-documentation/08-RESEARCH.md

# Source files for patterns and conventions:
@setup.sh
@src/core/logging.sh
@SECURITY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite CONTRIBUTING.md from scratch</name>
  <files>CONTRIBUTING.md</files>
  <action>
    Completely rewrite CONTRIBUTING.md. Delete ALL existing content (it's BMAD boilerplate with Discord, expansion-packs, etc.). Write project-specific contribution guidelines.

    **Structure:**

    1. **Header**: "# Contributing to OS Post-Install Scripts" + brief welcome paragraph.

    2. **Code of Conduct**: Link to CODE_OF_CONDUCT.md. "By participating, you agree to abide by our [Code of Conduct](CODE_OF_CONDUCT.md)."

    3. **Getting Started / Development Setup**:
       - Clone the repo
       - Requirements: Bash 4.0+, ShellCheck installed
       - Run tests: `bash tests/test-*.sh`
       - Dry-run to test changes: `./setup.sh --dry-run`

    4. **Project Structure**: Brief overview of src/core/, src/platforms/, src/install/, data/packages/, data/dotfiles/, tests/

    5. **Style Guide**: Extract from actual codebase patterns (STATE.md "Patterns Established"):
       - Source guard: `[[ -n "${_SOURCED:-}" ]] && return 0`
       - export -f for subshell access
       - Quote all variables: `"${var}"`
       - local for function variables
       - UPPER_CASE for constants/globals, snake_case for functions
       - Underscore prefix for private helpers: `_function_name()`
       - Log format: `[OK]/[ERROR]/[WARN]/[INFO]/[DEBUG]` via logging.sh
       - Idempotent check before install: `is_*_installed()` before action
       - Failure tracking: `FAILED_ITEMS+=("$item")`
       - Always exit 0 (continue-on-failure strategy, no set -e)
       - DRY_RUN guard: after idempotency check, before mutation

    6. **Commit Conventions**: Conventional Commits format.
       - Types: feat, fix, docs, test, refactor, chore
       - Scopes: phase numbers (01-08) or module names
       - Examples from actual history: `feat(07-02): CLI flag parsing`, `fix(05-01): APT lock handling`

    7. **Branch Strategy**: GitHub Flow.
       - `main` is the default branch (protected)
       - Create feature branches: `feat/description` or `fix/description`
       - PR required for merge to main
       - No `next` branch, no `develop` branch

    8. **Pull Request Process**:
       - Fork and create feature branch
       - Make changes with tests
       - Run ShellCheck: `shellcheck -x src/**/*.sh` (ZERO warnings required)
       - Submit PR using the template
       - Wait for review

    9. **ShellCheck**: REQUIRED for all shell script changes.
       - Install: `apt install shellcheck` / `brew install shellcheck`
       - Run: `shellcheck -x src/core/*.sh src/platforms/**/*.sh src/install/*.sh`
       - Zero warnings policy: PRs with ShellCheck warnings will not be merged
       - Use `# shellcheck disable=SCXXXX` only with justification comment

    10. **Adding Packages**:
        - Edit the appropriate file in `data/packages/` (apt.txt, brew.txt, etc.)
        - One package per line, `#` for comments
        - Add to appropriate profile in `data/packages/profiles/`
        - Test with `--dry-run`

    11. **Adding Platform Support**:
        - Create installer in `src/platforms/<platform>/install/`
        - Follow existing patterns (apt.sh, brew.sh)
        - Add dispatch case in platform orchestrator

    12. **Development Methodology**:
        - Project uses GSD (Get Shit Done) workflow
        - Architecture decisions documented in ADRs
        - Conventional Commits for all changes
        - Claude Code used as development co-pilot (AI-assisted development)
        - 425+ commits across 8 phases of structured development

    13. **Reporting Issues**: Use GitHub issue templates. Link to bug report and feature request templates.

    **Rules:**
    - No emojis
    - No BMAD references, Discord links, expansion-pack mentions, or `next` branch references
    - Direct, practical tone
    - All paths must be accurate
  </action>
  <verify>
    - CONTRIBUTING.md exists and has 100+ lines
    - No BMAD references: `rg -i 'bmad|discord|expansion.pack' CONTRIBUTING.md` returns nothing
    - ShellCheck mentioned as requirement
    - Conventional Commits documented
    - GitHub Flow documented
    - CODE_OF_CONDUCT.md linked
  </verify>
  <done>CONTRIBUTING.md is rewritten with project-specific content, no BMAD boilerplate, includes dev setup, style guide, commit conventions, ShellCheck requirement</done>
</task>

<task type="auto">
  <name>Task 2: Create CODE_OF_CONDUCT.md</name>
  <files>CODE_OF_CONDUCT.md</files>
  <action>
    Create CODE_OF_CONDUCT.md using Contributor Covenant v2.1.

    Fetch the template content from https://www.contributor-covenant.org/version/2/1/code_of_conduct/code_of_conduct.md or write it based on the standard template.

    Replace the placeholder `[INSERT CONTACT METHOD]` with: `marcelobragatte@gmail.com` (consistent with SECURITY.md contact information).

    The file should be the standard Contributor Covenant v2.1 text, unmodified except for the contact method.
  </action>
  <verify>
    - CODE_OF_CONDUCT.md exists
    - Contains "Contributor Covenant" and "v2.1" or "version 2.1"
    - Contains contact email: `rg 'marcelobragatte@gmail.com' CODE_OF_CONDUCT.md`
    - No placeholder text remaining: `rg 'INSERT CONTACT' CODE_OF_CONDUCT.md` returns nothing
  </verify>
  <done>CODE_OF_CONDUCT.md exists with Contributor Covenant v2.1 and correct contact email</done>
</task>

<task type="auto">
  <name>Task 3: Update GitHub issue and PR templates</name>
  <files>.github/ISSUE_TEMPLATE/bug_report.md, .github/ISSUE_TEMPLATE/feature_request.md, .github/pull_request_template.md</files>
  <action>
    **Bug Report template (.github/ISSUE_TEMPLATE/bug_report.md):**
    Update to include:
    - Profile used field: `[e.g. minimal, developer, full]`
    - Add `--dry-run` reproduction suggestion: "Try reproducing with `--dry-run` flag and include output"
    - Update system info to include: OS, Shell version, Profile, Flags used
    - Keep existing structure (title prefix [BUG], labels bug)

    **Feature Request template (.github/ISSUE_TEMPLATE/feature_request.md):**
    Update to:
    - Keep existing structure
    - Update OS checklist to match current support (keep Ubuntu, Pop!_OS, Linux Mint, macOS, Windows, remove vague "Other")
    - Add "Which profile would this affect?" section with minimal/developer/full checkboxes
    - Add "Which component?" section with options: Packages, Dotfiles, Installer, CLI/UX, Documentation

    **PR Template (.github/pull_request_template.md):**
    Update to:
    - Add explicit ShellCheck requirement as a REQUIRED checklist item (bold or marked clearly)
    - Update conventions reference from `.ai/conventions/CONVENTIONS.md` to "CONTRIBUTING.md"
    - Keep the Type of Change and OS/Distribution sections
    - Add "Profile tested" field under Testing section
    - Add dry-run test step suggestion

    **Rules:**
    - No emojis in templates
    - Keep YAML frontmatter (name, about, title, labels) as-is
    - Templates should be concise and actionable
  </action>
  <verify>
    - All three template files exist and are valid Markdown
    - Bug report includes profile field
    - Feature request includes profile and component sections
    - PR template mentions ShellCheck as required
    - PR template references CONTRIBUTING.md (not .ai/conventions)
    - No emoji characters in any template
  </verify>
  <done>All three GitHub templates updated with current project context, ShellCheck requirement in PR template, profile fields in bug report</done>
</task>

</tasks>

<verification>
1. CONTRIBUTING.md: 100+ lines, no BMAD/Discord references, has style guide + ShellCheck + conventional commits
2. CODE_OF_CONDUCT.md: Contributor Covenant v2.1, contact email present, no placeholders
3. Bug report template: includes profile field and --dry-run suggestion
4. Feature request template: accurate OS list, profile and component sections
5. PR template: ShellCheck required, references CONTRIBUTING.md
6. No emojis in any file
</verification>

<success_criteria>
- CONTRIBUTING.md is project-specific and references actual codebase patterns
- CODE_OF_CONDUCT.md is Contributor Covenant v2.1 with correct contact
- GitHub templates reflect current project reality (profiles, platforms, ShellCheck)
- No BMAD boilerplate remains anywhere
- All cross-references between files are valid
</success_criteria>

<output>
After completion, create `.planning/phases/08-documentation/08-02-SUMMARY.md`
</output>
