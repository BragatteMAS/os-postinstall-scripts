---
phase: 18-polish-oss-health
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - SECURITY.md
  - README.md
autonomous: false

must_haves:
  truths:
    - "SECURITY.md exists in repo root with responsible disclosure policy"
    - "GitHub Release for v4.0.0 exists with curated changelog"
    - "README demo GIF placeholder is improved with descriptive content"
  artifacts:
    - path: "SECURITY.md"
      provides: "Responsible disclosure policy for GitHub Security tab"
      min_lines: 30
      contains: "Reporting a Vulnerability"
    - path: "README.md"
      provides: "Improved demo section (updated placeholder or actual GIF)"
      contains: "DRY RUN MODE"
  key_links:
    - from: "SECURITY.md"
      to: "GitHub Security tab"
      via: "GitHub auto-detection of SECURITY.md in repo root"
      pattern: "Security Policy"
    - from: "README.md"
      to: "assets/demo.gif"
      via: "Image reference or improved placeholder text"
      pattern: "DRY RUN MODE"
---

<objective>
Create SECURITY.md with responsible disclosure policy (OSS-01), format a GitHub Release for v4.0.0 (OSS-02), and improve the README demo GIF placeholder (OSS-03).

Purpose: Complete three OSS health requirements. SECURITY.md enables GitHub's Security tab. The v4.0.0 Release provides a proper milestone marker. The demo placeholder guides future recording.
Output: SECURITY.md in repo root, GitHub Release for v4.0.0 on GitHub, updated README demo section.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-polish-oss-health/18-RESEARCH.md
@README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SECURITY.md and format GitHub Release for v4.0.0</name>
  <files>SECURITY.md</files>
  <action>
**SECURITY.md** -- Create in repo root with these sections:

1. **Security Policy** (h1 title)
2. **Supported Versions** -- table showing v4.x supported, < 4.0 not supported
3. **Reporting a Vulnerability** with subsections:
   - "How to Report" -- (a) Do NOT open a public issue, (b) use GitHub's private vulnerability reporting at `https://github.com/BragatteMAS/os-postinstall-scripts/security/advisories/new`
   - "What to Include" -- description, steps to reproduce, potential impact, suggested fix
   - "Response Timeline" -- acknowledgment within 3 business days, assessment within 7, resolution depends on severity
4. **Scope** -- covers shell scripts (Bash, PowerShell), package installation logic, dotfiles management, configuration files
5. **Out of Scope** -- third-party packages installed by scripts (report to maintainers), issues in upstream tools (apt, brew, winget)
6. **Disclosure Policy** -- coordinated disclosure, credit reporters in release notes unless anonymity requested

Use the template from 18-RESEARCH.md as the base. Adapt to project specifics.

**GitHub Release for v4.0.0** -- Create using `gh release create`:

```bash
gh release create v4.0.0 \
  --title "v4.0.0 - Quality & Parity Milestone" \
  --notes "$(cat <<'EOF'
## v4.0.0 - Quality & Parity Milestone

**Released:** 2026-02-18

### Highlights

- **16 requirements** completed across 4 phases (11-14)
- **120+ tests** passing (bats-core + manual test suites)
- **Full Bash/PowerShell API parity** for all core modules
- **Cross-platform:** Linux, macOS, Windows

### What's New

#### Phase 11: Flag & Boolean Fixes
- VERBOSE/NONINTERACTIVE flag semantics corrected across all scripts
- Stale data references cleaned up

#### Phase 12: Structure & DRY Cleanup
- Shared PowerShell helpers extracted (Test-CargoInstalled)
- logging.sh established as SSoT for colors and log functions
- Directory merge and duplication elimination

#### Phase 13: Windows Parity
- DryRun flag, step counters, completion summary for Windows
- CmdletBinding added to all 9 core module exported functions
- PowerShell scripts match Bash feature set

#### Phase 14: Testing & Documentation
- bats-core unit tests for logging, errors, packages, idempotent modules
- Test infrastructure via git submodules
- README gaps closed, lint runners added

### Installation

```bash
# Linux/macOS
git clone https://github.com/BragatteMAS/os-postinstall-scripts.git
cd os-postinstall-scripts
./setup.sh

# Windows (PowerShell)
git clone https://github.com/BragatteMAS/os-postinstall-scripts.git
cd os-postinstall-scripts
.\setup.ps1
```

### Full Changelog

See [CHANGELOG.md](CHANGELOG.md) for complete version history.
EOF
)"
```

If `gh release create` fails because a release already exists, use `gh release view v4.0.0` to confirm it exists and skip creation.

If `gh` auth fails, note in SUMMARY that release creation requires authentication and provide the exact command for the user to run.
  </action>
  <verify>
1. `test -f SECURITY.md` -- file exists in repo root
2. `grep -q "Reporting a Vulnerability" SECURITY.md` -- contains disclosure section
3. `grep -q "Supported Versions" SECURITY.md` -- contains version table
4. `gh release view v4.0.0 2>/dev/null` -- release exists (or note auth requirement)
  </verify>
  <done>
SECURITY.md exists in repo root with responsible disclosure policy covering supported versions, reporting process, timeline, scope, and disclosure policy. GitHub Release for v4.0.0 is created (or exact command documented if auth unavailable).
  </done>
</task>

<task type="auto">
  <name>Task 2: Improve README demo GIF placeholder</name>
  <files>README.md</files>
  <action>
The current README has a minimal placeholder:
```
<!-- Terminal demo GIF: record with asciinema + agg, save as assets/demo.gif -->
<div align="center">
*Terminal demo recording coming soon.*
</div>
```

Replace this section with an improved placeholder that:

1. Keeps the HTML comment with recording instructions (for future reference)
2. Replaces "coming soon" with a descriptive text block showing what the tool does
3. Uses a styled box or blockquote to make it visually appealing

Replace the existing placeholder block (the comment + the div with "coming soon") with:

```markdown
<!-- Demo GIF: record with `asciinema rec demo.cast && agg --theme monokai --font-size 16 --speed 2 demo.cast assets/demo.gif` -->

<div align="center">

```
$ ./setup.sh --dry-run minimal
[INFO] Starting OS Post-Install Scripts v4.0.0
[WARN] =========================================
[WARN]   DRY RUN MODE - No changes will be made
[WARN] =========================================
[INFO] Profile: minimal | Platform: Linux
[INFO] [1/3] System packages...
[OK]   apt: 12 packages would be installed
[INFO] [2/3] Dotfiles...
[OK]   4 symlinks would be created
[INFO] [3/3] Shell configuration...
[OK]   Starship prompt would be configured
=== Setup Complete ===
[INFO] Duration: 0m 2s
[OK]   All sections completed successfully
```

*Dry-run preview of a minimal profile setup. [Record your own demo](CONTRIBUTING.md).*

</div>
```

IMPORTANT: The link must point to `CONTRIBUTING.md` (repo root), NOT `docs/CONTRIBUTING.md` (does not exist). Do not add an anchor fragment -- there is no #terminal-demo section in CONTRIBUTING.md.

This gives visitors an immediate sense of what the tool does, using realistic output that matches the actual script behavior (colored tags, step counters, dry-run banner, completion summary).

IMPORTANT: Do NOT modify any other part of README.md. Only replace the demo placeholder section (lines around the comment and "coming soon" text).
  </action>
  <verify>
1. `grep -q 'DRY RUN MODE' README.md` -- improved placeholder present
2. `grep -c 'coming soon' README.md` -- should return 0 (old placeholder removed)
3. `grep -q 'asciinema rec' README.md` -- recording instructions preserved in comment
4. `grep -q '(CONTRIBUTING.md)' README.md` -- link points to repo root CONTRIBUTING.md (no docs/ prefix)
5. `grep -c 'docs/CONTRIBUTING.md' README.md` -- should return 0 (no broken link)
  </verify>
  <done>
README demo section shows a realistic dry-run output preview instead of "coming soon". Recording instructions preserved in HTML comment for future GIF creation. "Record your own demo" link points to CONTRIBUTING.md (repo root, verified no broken path).
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>SECURITY.md in repo root with responsible disclosure policy, GitHub Release for v4.0.0 (if auth available), and improved README demo placeholder with realistic CLI output preview.</what-built>
  <how-to-verify>
1. Open SECURITY.md and confirm: supported versions table, reporting instructions with GitHub advisory link, response timeline, scope boundaries
2. Check GitHub Release: visit https://github.com/BragatteMAS/os-postinstall-scripts/releases/tag/v4.0.0 (or run `gh release view v4.0.0`)
3. Open README.md and confirm the demo section shows realistic CLI output (not "coming soon")
4. Verify the "Record your own demo" link points to CONTRIBUTING.md (not docs/CONTRIBUTING.md)
5. If GitHub Release was not created due to auth, review the command provided and run it manually
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues</resume-signal>
</task>

</tasks>

<verification>
1. `test -f SECURITY.md` -- security policy file exists
2. SECURITY.md contains: Supported Versions, Reporting a Vulnerability, Scope, Disclosure Policy
3. GitHub Release for v4.0.0 exists (via `gh release view v4.0.0`)
4. README.md demo section has realistic output preview (not "coming soon")
5. README.md link to CONTRIBUTING.md is correct (no docs/ prefix, no broken anchor)
6. No other README sections modified
</verification>

<success_criteria>
- SECURITY.md exists in repo root with all required sections (OSS-01 complete)
- GitHub Release for v4.0.0 exists with curated changelog (OSS-02 complete)
- README demo placeholder replaced with realistic dry-run output preview (OSS-03 complete)
- All internal links are valid (CONTRIBUTING.md at repo root, no broken anchors)
- All three OSS health artifacts are ship-ready
</success_criteria>

<output>
After completion, create `.planning/phases/18-polish-oss-health/18-02-SUMMARY.md`
</output>
